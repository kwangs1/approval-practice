<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="folder">
	<resultMap id="folder" type="folderVO">
		<result property="fldrid" column="fldrid" />
		<result property="fldrname" column="fldrname" />
		<result property="parfldrid" column="parfldrid" />
		<result property="parfldrname" column="parfldrname" />
		<result property="fldrdepth" column="fldrdepth" />
		<result property="ownertype" column="ownertype" />		
		<result property="ownerid" column="ownerid" />
		<result property="appltype" column="appltype" />
		<result property="applid" column="applid" />
		<result property="regdate" column="regdate" />
		<result property="updatedate" column="updatedate" />
		<result property="updaterid" column="updaterid" />
		<result property="year" column="year" />
		<result property="endyear" column="endyear" />
	</resultMap>
	
<insert id="deptAllFolderAdd" parameterType="folderVO">
	<selectKey keyProperty="fldrid" resultType="String" order="BEFORE">
		select 'FOLDER' || to_char(sysdate,'YYYYMM') || fldr_seq.nextval from dual
	</selectKey>
	insert into folder
	values(#{fldrid},#{fldrname},#{parfldrid},#{parfldrname},0,#{ownertype},#{ownerid},#{appltype},
	#{applid},to_char(sysdate,'YYYY/MM/DD HH24:MI:SS'),#{updatedate},#{updaterid},#{year},#{endyear})
</insert>

<insert id="CreateDeptCommonFolder" parameterType="folderVO">
	<selectKey keyProperty="fldrid" resultType="String" order="BEFORE">
		select 'FOLDER' || to_char(sysdate,'YYYYMM') || fldr_seq.nextval from dual
	</selectKey>
	insert into folder
	values(#{fldrid},#{fldrname},#{parfldrid},#{parfldrname},0,#{ownertype},#{ownerid},#{appltype},
	#{applid},to_char(sysdate,'YYYY/MM/DD HH24:MI:SS'),#{updatedate},#{updaterid},#{year},#{endyear})
</insert>

</mapper>